# Publish metadata 

Once you have generated metadata for a project, you can publish them (and the data as relevant) in a catalog. The Metadata Editor was designed to be a complement to the NADA catalog developed for the IHSN. The metadata can however also be published in other cataloguing applications.  

## Publish in NADA

Three options are available to publishe metadata in a NADA catalog:

1. Using the "Publish" function of the Metadata Editor ("push")
2. Fom the NADA administrator interface ("pull"), by importing metadata generated by the Metadata Editor (or using another application)
3. Programatically, using the NADA API and a programming language like R (with the NADAR package) or Python (with the pyNADA library)

Options 2 and 3 are documented in the NADA User Guide; we describe option 1 below.

To publish your metadata in a NADA catalog, click on "Projects" > "Publish to NADA" in the main menu.

![image](https://user-images.githubusercontent.com/35276300/234066390-0e1c2039-7117-42e5-a686-f3232d8dd875.png)

> Recommendation: Before publishing metadata, check the "Project validation" in your project home page to ensure you do not have any remaining issue to be addressed.

To publish metadata (and possibly data) in a NADA catalog, you must have administrator credentials for a pre-installed catalog. You will need (i) the URL of your catalog, and (ii) an API key that allows you to manage its content. Make sure you always keep your key secret !

Before you can publish content in a NADA catalog, this catalog must be configured in the Metadata Editor. To configure a catalog, click on *Configure new catalog*. In the catalog configuration page, provide a short name for the catalog (note that you can configure multiple catalogs), its URL, and your API key. API keys are generated in NADA (see NADA documentation).   

![image](https://user-images.githubusercontent.com/35276300/234067635-c3fb04ba-c648-497c-ae50-e9de450b16b3.png)

If you have configured one or multiple NADA catalogs, they will appear in the drop down list in the *Publish* page.

![image](https://user-images.githubusercontent.com/35276300/234067272-ad486ad3-f72b-40ae-8fbd-3a5f701c6287.png)

The same form will be used to publish metadata (and data) for projects of any type. Soome options will however only apply to some project types.

To publish your project in NADA:

### 1. Select a configured catalog

![image](https://user-images.githubusercontent.com/35276300/234069948-5a90ce22-a534-475d-ae94-7aa87184a12f.png)


### 2. Select the relevant options

![image](https://user-images.githubusercontent.com/35276300/234070034-cf544320-ce29-4d28-b7c5-84e918b82b38.png)

- **Overwrite if already exists**: Select "Yes" if you want the project to overwrite the project if it has been previously published in the catalog. Note that a project will be considered as being the same **if it has the same unique identifier**. It is thus critical to ensure that you give your projects proper identifiers. 
- **Publish**: An entry in NADA can have two statuses: *Published* or *Draft*. If you select *Draft*, the project will be published in NADA but only visible to the catalog administrator (not to visitors). Use this option if you want the NADA administrator to review the content before it is made visible to all. If you select option *Publish*, the entry will be visible to all users who have access to the catalog. 
- **Data access**: This option only applies when a project --of any type-- has one or multiple external resource(s) declared as "Microdata" or "Database". In such case, NADA will apply a dissemination policy that depends on the type of data access you select here. The access types are:
   - Open access: Data are published and available for download under an open license
   - Direct access: Data are available for download, but are not shared under an open licese (some restrictions to the data use apply)
   - Public use files: interested users will need to register to the NADA catalog to obtain access
   - Licensed data files: interested users will have to register, fill out a form, and request access in NADA
   - Data accessible in external repository (a link to the data repository is provided)
   - Data enclave (data will only be made accessible on-site)
   - Data not available: this is the default value. Only metadata (no data) will be published   
- **Collection**: Entries in a NADA catalog can be assigned to specific collections. When a catalog has collections, the list will be provided in the form, and a collection can be selected. The dataset will then "belong" to that collection. In NADA, an entry can only be owned by one collection, but can be made visible in multiple collections. The option to list a same entry in multiple collections is not available from the Metadata Editor. This must be implemented in NADA.

### 3. External resources

In the **External resources** options box, you have the option to select the external resources you want to publish in NADA, and whether you want to overwrite resources previously published. Note that two external resources will be considered as being the same if they have the same type and title.

![image](https://user-images.githubusercontent.com/35276300/234072771-0bf7248d-5b9c-4619-ae0c-56fa9d829855.png)

### 4. Publish

Finally, you can publish your project. You can decide here what you want to publish: the project metadata, the thumbnail, and the external resources. The metadata and all related files (thumbnail and external resources if any) will be uploaded to the web server where the NADA catalog is hosted.

![image](https://user-images.githubusercontent.com/35276300/234073306-e305c80f-95a0-49af-bc0f-0fc4b4b5348e.png)


## Publish in other catalogs 

You can publish metadata generated by the Metadata Editor in other cataloguing applications compatible with the supported metadata standards and formats.
For example, a CKAN catalog will accept metadata in the form of key/value pairs, i.e. the metadata in JSON format that you can generate from the Metadata Editor. A GeoNetwork catalog will accept ISO 19139 (XML) metadata which you can export from the Metadata Editor for geographic datasets and services. Other aplications may accept DDI compliant metadata (for microdata) that can be produced by the Metadata Editor. Other cataloguing applications should be able to ingest the JSON metadata created with the Metadata Editor, possibly after some reformatting of the content.
